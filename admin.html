<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>허그핏 관리자 출석페이지</title>
  <style>
    body { font-family: 'Arial'; padding: 20px; background: #f6f8fa; }
    h2 { text-align: center; color: #333; }
    label, select, input { font-size: 16px; margin: 10px 5px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; background: #fff; }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    th { background-color: #f0f0f0; }
    .filter-area { margin-bottom: 20px; text-align: center; }
    .status { 
      padding: 5px 10px; 
      border-radius: 3px; 
      font-size: 12px; 
      font-weight: bold; 
    }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
    .warning { background: #fff3cd; color: #856404; }
    .loading { background: #d1ecf1; color: #0c5460; }
    button { 
      padding: 8px 16px; 
      margin: 5px; 
      border: none; 
      border-radius: 4px; 
      cursor: pointer; 
      font-size: 14px; 
    }
    button:hover { opacity: 0.8; }
    .btn-primary { background: #007bff; color: white; }
    .btn-success { background: #28a745; color: white; }
    .btn-info { background: #17a2b8; color: white; }
    #statusMessage { margin: 10px 0; padding: 10px; border-radius: 4px; }
  </style>
</head>
<body>
  <h2>허그핏 관리자 출석 페이지</h2>

  <div id="statusMessage" style="display: none;"></div>

  <div class="filter-area">
    <label for="search">고객 이름 검색:</label>
    <input type="text" id="search" placeholder="예: 김민정">
    <button class="btn-info" onclick="searchMember()">검색</button>

    <br><br>
    <label>등록 유형:</label>
    <select id="regType" onchange="toggleOptions()">
      <option value="쿠폰">쿠폰</option>
      <option value="기간">기간</option>
    </select>

    <span id="couponOptions">
      <select id="couponSelect">
        <option value="10회_1개월">한달 10회</option>
        <option value="30회_3개월">30회 3개월</option>
      </select>
    </span>

    <span id="periodOptions" style="display: none;">
      <select id="periodSelect">
        <option value="1개월">1개월</option>
        <option value="3개월">3개월</option>
      </select>
    </span>

    <button class="btn-primary" onclick="registerCustomer()">고객 등록</button>
    <button class="btn-success" onclick="markVisit()">출석 처리</button>
    <button class="btn-info" onclick="loadAllMembers()">전체 회원 조회</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>고객명</th>
        <th>등록일자</th>
        <th>최근방문일</th>
        <th>남은횟수/기간</th>
        <th>상태</th>
      </tr>
    </thead>
    <tbody id="resultBody"></tbody>
  </table>

  <script>
    const SHEET_URL = "https://script.google.com/macros/s/AKfycbxsa0wxqGaMwyz0QPrecdagFJid2VUxSuvKYRf67LP-zqrgiWtJECSxN-DYfErmI5dyOg/exec";
  </script>
</body>
</html>